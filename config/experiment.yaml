# BAEs Experiment Configuration
# Version: 1.0.0

# Fixed random seed for deterministic execution
random_seed: 42

# Model configuration - ALL frameworks must use the same model for fair comparison
# Supported models: gpt-4o-mini, o1-mini, o1-preview
# - gpt-4o-mini: Native ChatDev support (commit 52edb89)
# - o1-mini, o1-preview: Added via runtime patch (see src/adapters/chatdev_adapter.py::_patch_o1_model_support)
# Note: O1 models have better reasoning; GPT-4o-mini is faster and cheaper
model: "gpt-4o-mini"

# Framework configurations
frameworks:
  baes:
    repo_url: "https://github.com/gesad-lab/baes_demo.git"
    commit_hash: "a34b207253ef4beecedac913264732a93f16e979"
    api_port: 8000
    ui_port: 3000
    api_key_env: "OPENAI_API_KEY_BAES"
    
  chatdev:
    repo_url: "https://github.com/OpenBMB/ChatDev.git"
    commit_hash: "52edb89997b4312ad27d8c54584d0a6c59940135"  # Has 'refusal' + 'audio' fixes; we patch 'annotations' at runtime (see .copilot/WHY_VITORFOL_FORK.md)
    api_port: 8001
    ui_port: 3001
    api_key_env: "OPENAI_API_KEY_CHATDEV"
    
  ghspec:
    repo_url: "https://github.com/github/spec-kit.git"
    commit_hash: "89f4b0b38a42996376c0f083d47281a4c9196761"
    api_port: 8002
    ui_port: 3002
    api_key_env: "OPENAI_API_KEY_GHSPEC"

# Directory containing prompt files (step_1.txt through step_6.txt)
prompts_dir: "config/prompts"

# Path to fixed HITL clarification text
hitl_path: "config/hitl/expanded_spec.txt"

# Stopping rule configuration
stopping_rule:
  min_runs: 5              # Minimum runs per framework
  max_runs: 25             # Maximum runs per framework
  confidence_level: 0.95   # 95% confidence intervals
  max_half_width_pct: 10   # Stop when CI half-width â‰¤10% of mean
  metrics:
    - AUTR
    - TOK_IN
    - T_WALL
    - CRUDe
    - ESR
    - MC

# Timeout configurations
timeouts:
  step_timeout_seconds: 600           # 10 minutes per step
  health_check_interval_seconds: 5    # Health check every 5 seconds
  api_retry_attempts: 3               # Retry API calls up to 3 times
